{% extends 'base.html' %}

{% block title %}Detalle de Solicitud - SENA APP{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/" class="back-link">Inicio</a></li>
            <li class="breadcrumb-item"><a href="{% url 'admisiones:panel_coordinador' %}" class="back-link">Lista de Aspirantes</a></li>
            <li class="breadcrumb-item active" aria-current="page">{{ solicitud.nombre_completo }}</li>
        </ol>
    </nav>
    <div class="details-card">
        <div class="details-card-header text-white p-2" style="background-color:#f39c12;">
            <h2><i class="bi bi-file-earmark-text"></i> Detalle de Solicitud</h2>
        </div>
        <div class="details-card-body d-flex justify-content-between p-4">
            <div class="info-section text-center">
                <div class="details-card-body">
            <div class="profile-section">
                <div class="profile-avatar">
                    {{ solicitud.nombre_completo.0 }}
                </div>
                <h4>{{ solicitud.nombre_completo}}</h4>
            </div>
                <div class="info-group text-start">
                    <h5><i class="bi bi-info-circle"></i> Información Personal</h5>
                    <p><i class="bi bi-card-text"></i> <strong>Documento:</strong> {{ solicitud.numero_documento }}</p>
                    <p><i class="bi bi-envelope"></i> <strong>Correo:</strong> {{ solicitud.correo }}</p>
                    <p><i class="bi bi-telephone"></i> <strong>Teléfono:</strong> {{ solicitud.telefono }}</p>
                    <p><i class="bi bi-journal-text"></i> <strong>Programa:</strong> {{ solicitud.programa }}</p>
                </div>
            </div>
            <div class="info-group">
                <h5><i class="bi bi-folder"></i> Documentos</h5>
                <p>
                    <i class="bi bi-file-earmark-text"></i> Documento Identidad: 
                    {% if solicitud.documento_identidad %}
                        <a href="{{ solicitud.documento_identidad.url }}" target="_blank">Ver Documento</a>
                    {% else %}
                        <span class="text-muted">No adjuntado</span>
                    {% endif %}
                </p>
                <p>
                    <i class="bi bi-file-earmark-text"></i> Certificado Académico: 
                    {% if solicitud.certificado_academico %}
                        <a href="{{ solicitud.certificado_academico.url }}" target="_blank">Ver Certificado</a>
                    {% else %}
                        <span class="text-muted">No adjuntado</span>
                    {% endif %}
                </p>
                <p>
                    <i class="bi bi-file-earmark-medical"></i> Certificado EPS: 
                    {% if solicitud.certificado_eps %}
                        <a href="{{ solicitud.certificado_eps.url }}" target="_blank">Ver Certificado</a>
                    {% else %}
                        <span class="text-muted">No adjuntado</span>
                    {% endif %}
                </p>
                <form method="POST">
                    {% csrf_token %}
                    <div class="form-group mb-2">
                        <label for="estado"><i class="bi bi-flag"></i> Estado</label>
                        <select name="estado" class="form-control">
                            {% for key, value in solicitud.ESTADO_CHOICES %}
                                <option value="{{ key }}" {% if solicitud.estado == key %}selected{% endif %}>{{ value }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <button type="submit" class="btn btn-sm btn-custom-secondary mt-auto"><i class="bi bi-save"></i> Guardar Cambios</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}